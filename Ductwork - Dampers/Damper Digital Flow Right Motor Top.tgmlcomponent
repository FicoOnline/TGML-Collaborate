<?xml version="1.0"?>
<Component Color="#F0080E" ComponentCounter="5" ContentHeight="120"
    ContentWidth="40" Fill="#FFD100" GridSize="10" Height="120.0"
    Left="5.0" Name="Damper Digital Flow Right Motor Top"
    OnValue="1,on,open,true" Stroke="#42B4E6" Top="2.0" Width="40.0">
    <Metadata Name="Name" Value="Damper Digital Flow Right Motor Top"/>
    <Metadata Name="Description" Value="== Bindings ==&#xd;&#xa;Value - Damper Command&#xd;&#xa;&#xd;&#xa;== Exposed Properties ==&#xd;&#xa;Bind Name - DprCmd - Damper command point&#xd;&#xa;Open Value - 1,on,open,true - Fully open value/s (commer seperated if multiple)&#xd;&#xa;Error, Forced, Database Color - Outline color when point in error, forced or database condition"/>
    <Expose ExposedAttribute="OnValue" Name="OpenValue"/>
    <Expose ExposedAttribute="Color" Name="Error Color"/>
    <Expose ExposedAttribute="Fill" Name="Forced Color"/>
    <Expose ExposedAttribute="Stroke" Name="Database Color"/>
    <Rectangle Fill="#009530" Height="15.0" Left="10.0" Name="MotorBg"
        RadiusX="2" RadiusY="2" Stroke="#404040" StrokeDashArray="0.0"
        StrokeWidth="1.0" Top="5.0" Width="20.0"/>
    <Text Fill="None" FontFamily="Arial" FontSize="10.0"
        FontStyle="Normal" FontWeight="Normal" HorizontalAlign="Center"
        Left="20.0" Opacity="1.0" Stroke="#FFFFFF" TextDecoration="None"
        Top="6.914050102234" VerticalAlign="Top"><![CDATA[M]]></Text>
    <Component Clip="False" ContentHeight="20" ContentWidth="20"
        Height="20.0" Left="10.0" Name="AlarmImage" Top="3.0"
        Visibility="Hidden" Width="20.0">
        <Path Fill="#FFD100" Name="B1"
            PathData="M11.8,15.15 C11.8,15.5640001 10.994,15.9 10.0,15.9 9.006,15.9 8.20000001,15.5640001 8.20000001,15.15 8.20000001,14.736 9.006,14.4 10.0,14.4 10.994,14.4 11.8,14.736 11.8,15.15 z M11.0,3.75 C11.0,4.164 10.55200001,4.5 10.0,4.5 9.448,4.5 9.0,4.164 9.0,3.75 9.0,3.336000001 9.448,3.0 10.0,3.0 10.55200001,3.0 11.0,3.336000001 11.0,3.75 z"
            Stroke="#FFD100" StrokeDashArray="0.0" StrokeWidth=".5"/>
        <Ellipse Fill="None" Height="1.50002274259486"
            Left="8.199998259544" Opacity="1.0" Stroke="#4B000000"
            StrokeDashArray="0.0" StrokeWidth=".5" Top="14.399997115135" Width="3.60000014305115"/>
        <Ellipse Fill="None" Height="1.50002274259486" Left="9.0"
            Opacity="1.0" Stroke="#4B000000" StrokeDashArray="0.0"
            StrokeWidth=".5" Top="3.0" Width="2.0"/>
        <Curve Fill="#FFD100" Name="B2" Opacity="1.0"
            Points="10.0,15.0 11.500100146817,15.0 15.100154729045,15.0 16.0,14.399997115135 16.0,13.799997091293 16.0,13.500148719784 15.399998545647,12.59999704361 14.500145632008,11.70012142867 14.500145632008,11.100112331632 14.199998497963,9.59999692439999 13.900136534969,7.79999685287498 13.30012743793,5.700030458291 11.799998402596,4.19999670982401 11.500100146817,3.90000316717698 10.632542525376,3.59999668598198 10.0,3.59999668598198 9.367612283068,3.59999668598198 8.500054661628,3.90000316717698 8.199998259544,4.19999670982401 6.70002737051399,5.39999675750698 6.100018273475,7.79999685287498 5.799998164177,9.59999692439999 5.500009176437,11.100112331632 5.500009176437,11.70012142867 4.599998116493,12.59999704361 4.0,13.500148719784 4.0,13.799997091293 4.0,14.399997115135 5.199998140335,15.0 8.500054661628,15.0 10.0,15.0"
            Stroke="#FFD100" StrokeDashArray="0.0" StrokeWidth=".5"/>
        <Curve Opacity="1.0"
            Points="10.0,15.0 11.500100146817,15.0 15.100154729045,15.0 16.0,14.399997115135 16.0,13.799997091293 16.0,13.500148719784 15.399998545647,12.59999704361 14.500145632008,11.70012142867 14.500145632008,11.100112331632 14.199998497963,9.59999692439999 13.900136534969,7.79999685287498 13.30012743793,5.700030458291 11.799998402596,4.19999670982401 11.500100146817,3.90000316717698 10.632542525376,3.59999668598198 10.0,3.59999668598198 9.367612283068,3.59999668598198 8.500054661628,3.90000316717698 8.199998259544,4.19999670982401 6.70002737051399,5.39999675750698 6.100018273475,7.79999685287498 5.799998164177,9.59999692439999 5.500009176437,11.100112331632 5.500009176437,11.70012142867 4.599998116493,12.59999704361 4.0,13.500148719784 4.0,13.799997091293 4.0,14.399997115135 5.199998140335,15.0 8.500054661628,15.0 10.0,15.0"
            Stroke="#5F000000" StrokeDashArray="0.0" StrokeWidth=".5">
            <LinearGradient Attribute="Fill" EndPoint="1.0,0.0"
                SpreadMethod="Pad" StartPoint="0.0,0.0">
                <GradientStop Color="#ABFFFFFF" Offset="0.0"/>
                <GradientStop Color="#01FFFFFF" Offset="0.5"/>
                <GradientStop Color="#60000000" Offset="1.0"/>
            </LinearGradient>
        </Curve>
    </Component>
    <Component Clip="False" ContentHeight="20" ContentWidth="20"
        Height="20.0" Left="10.0" Name="ForcedImage" Top="2.0"
        Visibility="Hidden" Width="20.0">
        <Component Clip="False" ContentHeight="10.1" ContentWidth="15.0"
            Height="10.1" Left="4" Top="5" Width="15.0">
            <Path Fill="#E3BC67" Name="B1"
                PathData="M11.25,10.096130000000017 C12.980770399999997,10.096130000000017 12.6923101,8.0769000000000233 11.25,8.0769000000000233 11.826920000000001,8.0769000000000233 11.826920000000001,8.0769000000000233 12.403849399999999,8.0769000000000233 13.846150000000002,8.0769000000000233 13.846150000000002,6.0576710000000276 12.403849399999999,6.0576710000000276 12.980770399999997,6.0576710000000276 12.980770399999997,6.0576710000000276 13.557690399999999,6.0576710000000276 15.0,6.0576710000000276 15.0,4.0384409999999775 13.557690399999999,4.0384409999999775 12.980770399999997,4.0384409999999775 12.6923101,4.0384409999999775 12.115386999999998,4.0384409999999775 13.557690399999999,4.0384409999999775 13.557690399999999,2.0192109999999843 12.115386999999998,2.0192109999999843 9.51923,2.0192109999999843 9.51923,2.0192109999999843 7.2115399999999994,2.0192109999999843 8.6538473000000025,2.0192109999999843 8.6538473000000025,-1.900000000887303E-5 7.2115399999999994,-1.900000000887303E-5 5.76923,-1.900000000887303E-5 4.6153800000000018,-1.900000000887303E-5 3.4615399999999994,0.28844099999997752 2.3809600000000017,0.58771999999999025 2.0376899999999978,1.040600999999981 1.1538473000000025,1.7307500000000005 0.725049300000002,2.0655100000000175 0.20812709999999868,2.382092 0.0,2.8845900000000029 0.0,5.1922799999999825 0.0,7.2115099999999757 0.0,9.5192109999999843 0.33908739999999682,10.067859999999996 1.1538473000000025,10.096130000000017 1.7307703999999973,10.096130000000017 4.9038473000000025,10.096130000000017 8.6538473000000025,10.096130000000017 11.25,10.096130000000017 M7.2115399999999994,2.0192109999999843 L5.4807703999999973,2.0192109999999843 M12.115386999999998,4.0384409999999775 L8.3653800000000018,4.0384409999999775 M12.403849399999999,6.0576710000000276 L8.3653800000000018,6.0576710000000276 M11.25,8.0769000000000233 L8.3653800000000018,8.0769000000000233"
                Stroke="#505050" StrokeDashArray="0.0" StrokeWidth=".5"/>
            <Path Fill="#FFFFFF"
                PathData="M11.25,10.096130000000017 C12.9807706,10.096130000000017 12.692310200000001,8.0769000000000233 11.25,8.0769000000000233 11.826920000000001,8.0769000000000233 11.826920000000001,8.0769000000000233 12.403849600000001,8.0769000000000233 13.846150000000002,8.0769000000000233 13.846150000000002,6.0576730000000225 12.403849600000001,6.0576730000000225 12.9807706,6.0576730000000225 12.9807706,6.0576730000000225 13.5576906,6.0576730000000225 15.0,6.0576730000000225 15.0,4.0384429999999725 13.5576906,4.0384429999999725 12.9807706,4.0384429999999725 12.692310200000001,4.0384429999999725 12.115388000000003,4.0384429999999725 13.5576906,4.0384429999999725 13.5576906,2.0192129999999793 12.115388000000003,2.0192129999999793 9.51923,2.0192129999999793 9.51923,2.0192129999999793 7.2115399999999994,2.0192129999999793 8.6538474999999977,2.0192129999999793 8.6538474999999977,-1.7000000013922545E-5 7.2115399999999994,-1.7000000013922545E-5 5.76923,-1.7000000013922545E-5 4.6153800000000018,-1.7000000013922545E-5 3.4615399999999994,0.28844299999997247 2.3809600000000017,0.58771999999999025 2.0376899999999978,1.040602999999976 1.1538474999999977,1.7307500000000005 0.72504949999999724,2.0655100000000175 0.20812730000000101,2.382093999999995 0.0,2.8845900000000029 0.0,5.1922799999999825 0.0,7.2115099999999757 0.0,9.51921299999998 0.33908759999999916,10.067859999999996 1.1538474999999977,10.096130000000017 1.7307705999999996,10.096130000000017 4.9038474999999977,10.096130000000017 8.6538474999999977,10.096130000000017 11.25,10.096130000000017 M7.2115399999999994,2.0192129999999793 L5.4807706,2.0192129999999793 M12.115388000000003,4.0384429999999725 L8.3653800000000018,4.0384429999999725 M12.403849600000001,6.0576730000000225 L8.3653800000000018,6.0576730000000225 M11.25,8.0769000000000233 L8.3653800000000018,8.0769000000000233"
                Stroke="#505050" StrokeDashArray="0.0" StrokeWidth=".5">
                <LinearGradient Attribute="Fill" EndPoint="1.0,0.0"
                    SpreadMethod="Pad" StartPoint="0.0,0.0">
                    <GradientStop Color="#ABFFFFFF" Offset="0.0"/>
                    <GradientStop Color="#01FFFFFF" Offset="0.5"/>
                    <GradientStop Color="#60000000" Offset="1.0"/>
                </LinearGradient>
            </Path>
        </Component>
    </Component>
    <Component Clip="False" ContentHeight="20" ContentWidth="20"
        Height="20.0" Left="11.0" Name="DatabaseImage" Top="3.0"
        Visibility="Hidden" Width="20.0">
        <Curve Opacity="1.0"
            Points="14.0,4.111048219022 12.888560208279,4.66658357372 10.666418789487,5.22211892841801 9.0,5.22211892841801 7.33320666129899,5.22211892841801 5.11106524250701,4.66658357372 4.0,4.111048219022 4.0,7.44426034720999 4.0,11.333007830095 4.0,13.555149248887 4.0,15.221767187119 7.33320666129899,15.221767187119 9.0,15.221767187119 10.666418789487,15.221767187119 14.0,15.221767187119 14.0,13.555149248887 14.0,11.333007830095 14.0,7.44426034720999 14.0,4.111048219022"
            Stroke="#86632A" StrokeDashArray="0.0" StrokeWidth=".5">
            <LinearGradient Attribute="Fill" EndPoint="1.0,0.0"
                SpreadMethod="Pad" StartPoint="0.0,0.0">
                <GradientStop Color="#E9C962" Offset="0.0"/>
                <GradientStop Color="#FCF8EC" Offset=".4"/>
                <GradientStop Color="#EDD79B" Offset=".6"/>
                <GradientStop Color="#E9C962" Offset="1.0"/>
            </LinearGradient>
        </Curve>
        <Ellipse Fill="#FFFFFF" Height="2.22214141879181" Left="4.0"
            Opacity="1.0" Stroke="#86632A" StrokeDashArray="0.0"
            StrokeWidth=".5" Top="3.0" Width="10.0">
            <LinearGradient Attribute="Fill" EndPoint="1.0,0.0"
                SpreadMethod="Pad" StartPoint="0.0,0.0">
                <GradientStop Color="#F4E9CE" Offset="0.0"/>
                <GradientStop Color="#F0DEAC" Offset=".5"/>
                <GradientStop Color="#F4E9CE" Offset="1.0"/>
            </LinearGradient>
        </Ellipse>
        <Curve Opacity="1.0"
            Points="4.0,7.44426034720999 4.0,8.0 6.222135951903,8.55533105660601 9.0,8.55533105660601 11.777489498883,8.55533105660601 14.0,8.0 14.0,7.44426034720999"
            Stroke="#86632A" StrokeDashArray="0.0" StrokeWidth=".5"/>
        <Curve Opacity="1.0"
            Points="4.0,10.777472475397 4.0,11.333007830095 6.222135951903,11.888543184793 9.0,11.888543184793 11.777489498883,11.888543184793 14.0,11.333007830095 14.0,10.777472475397"
            Stroke="#86632A" StrokeDashArray="0.0" StrokeWidth=".5"/>
    </Component>
    <Rectangle Fill="#CCCCCC" Height="88.0" Left="5.0" Name="Body"
        Opacity="1.0" RadiusX="5.0" RadiusY="5.0" Stroke="#404040"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="21.0" Width="30.0">
        <LinearGradient Attribute="Fill" EndPoint="1,0"
            SpreadMethod="Pad" StartPoint="0.0,0.0">
            <GradientStop Color="#EFEFEF" Offset="0"/>
            <GradientStop Color="#A1CD53" Name="ColorChange" Offset="1"/>
        </LinearGradient>
    </Rectangle>
    <Path Fill="#626469" Name="Closed"
        PathData="M20.0,106.5 C19.172,106.5 18.5,102.023 18.5,96.5 C18.5,90.977 19.172,86.5 20.0,86.5 C20.828,86.5 21.5,90.977 21.5,96.5 C21.5,102.023 20.828,106.5 20.0,106.5 z M20.0,85.167 C19.172,85.167 18.5,80.69 18.5,75.167 C18.5,69.644 19.172,65.167 20.0,65.167 C20.828,65.167 21.5,69.644 21.5,75.167 C21.5,80.69 20.828,85.167 20.0,85.167 z M20.0,63.833 C19.172,63.833 18.5,59.356 18.5,53.833 C18.5,48.31 19.172,43.833 20.0,43.833 C20.828,43.833 21.5,48.31 21.5,53.833 C21.5,59.356 20.828,63.833 20.0,63.833 z M20.0,42.5 C19.172,42.5 18.5,38.023 18.5,32.5 C18.5,26.977 19.172,22.5 20.0,22.5 C20.828,22.5 21.5,26.977 21.5,32.5 C21.5,38.023 20.828,42.5 20.0,42.5 z"
        Stroke="#626469" StrokeDashArray="0.0" StrokeWidth="1.0" Visibility="Hidden"/>
    <Path Fill="#626469" Name="Open"
        PathData="M30.0,75.167 C30.0,75.995 25.523,76.667 20.0,76.667 C14.477,76.667 10.0,75.995 10.0,75.167 C10.0,74.338 14.477,73.667 20.0,73.667 C25.523,73.667 30.0,74.338 30.0,75.167 z M30.0,96.5 C30.0,97.328 25.523,98.0 20.0,98.0 C14.477,98.0 10.0,97.328 10.0,96.5 C10.0,95.672 14.477,95.0 20.0,95.0 C25.523,95.0 30.0,95.672 30.0,96.5 z M30.0,53.833 C30.0,54.662 25.523,55.333 20.0,55.333 C14.477,55.333 10.0,54.662 10.0,53.833 C10.0,53.005 14.477,52.333 20.0,52.333 C25.523,52.333 30.0,53.005 30.0,53.833 z M30.0,32.5 C30.0,33.328 25.523,34.0 20.0,34.0 C14.477,34.0 10.0,33.328 10.0,32.5 C10.0,31.672 14.477,31.0 20.0,31.0 C25.523,31.0 30.0,31.672 30.0,32.5 z"
        Stroke="#626469" StrokeDashArray="0.0" StrokeWidth="1.0"/>
    <Bind Attribute="" Description=".5" Name="DprCmd" PreventDefault="True">
        <Expose ExposedAttribute="Name" Name="BindName"/>
		<Expose ExposedAttribute="PreventDefault" Name="Prevent Default"/>
        <Script OnDocumentLoad="onLoad" OnSignalChange="onChange"><![CDATA[var dispOpen;
var dispClosed;
var dispColor;
var body;
var HighLightCol="#404040";
var originalBodyColor;
var onValue;

function onLoad(evt)
{
  comp = evt.getCurrentTarget().getParentNode();
  dispOpen = comp.getChildByName("Open");
  dispClosed = comp.getChildByName("Closed");
  dispColor = comp.getChildByName("ColorChange");
  body = comp.getChildByName("Body");
  originalBodyColor=body.getAttribute("Stroke");
  onValue=comp.getAttribute("OnValue").split(',');
}

function onChange(evt)
{
  status = parseInt(evt.getStatus());
  val = evt.getValue();
  
  if(getBool(val)){
	dispOpen.setAttribute("Visibility", "Visible");
	dispClosed.setAttribute("Visibility", "Hidden");
	dispColor.setAttribute("Color", "#A1CD53");
  }
  else{
	dispOpen.setAttribute("Visibility", "Hiddene");
	dispClosed.setAttribute("Visibility", "Visible");
	dispColor.setAttribute("Color", "#DFE0E2");
  }
  
  
  bgStroke = setColour(status);
  if (bgStroke=="device"){
  	body.setAttribute("Stroke", originalBodyColor);
 	body.setAttribute("StrokeWidth", "1");
  }
  else{
	  body.setAttribute("Stroke", bgStroke);
	  body.setAttribute("StrokeWidth", "2");
  }
}

function setColour(status){
var col;

  if(status==2){//Value from Device
  	return "device";
  }
  else{
  		if(status==3){//Forced Value
  			return comp.getAttribute("Fill");
  		}
  		else{
  	 		if(status==1){//Database Value
  	 		return comp.getAttribute("Stroke");
  			}
  			else{
  				if(status==0){
  					return comp.getAttribute("Color")
  				}
  			}
  		}
  }

}

function getBool(val){
	for (var i=0;i<onValue.length;i++){
		if (val == true || val == false){
		val = val.toString();
		}
		else{
			if (isNumber(val)){
				val = Math.round(parseFloat(val));
				val = val.toString();
			}
		}
		if(String(val).toLowerCase() == String(onValue[i]).toLowerCase())
		{
			return true;
		}
	}
	return false;
}

function isNumber (o) {
  return ! isNaN (o-0) && o != null;
}]]></Script>
    </Bind>
</Component>
