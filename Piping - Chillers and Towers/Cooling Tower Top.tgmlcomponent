<?xml version="1.0"?>
<Component Color="#4FA600" ContentHeight="120" ContentWidth="210"
    Height="120.0" Left="10.0" Name="Cooling Tower Top"
    OnValue="1,on,open,true" Top="10.0" Width="210.0">
    <Metadata Name="Name" Value="Cooling Tower Top"/>
    <Metadata Name="Description" Value="== Bindings ==&#xd;&#xa;Ct#Cmd - Cooling Tower Value&#xd;&#xa;&#xd;&#xa;== Exposed Properties ==&#xd;&#xa;&lt;name> - &lt;default value> - &lt;Description>&#xd;&#xa;Cooling Tower Command Bind - Ct#Cmd - Cooling Tower Value&#xd;&#xa;On Value - 1,on,open,true - Chiller running (commer seperated if multiple)&#xd;&#xa;On Color - #4FA600 - On color&#xd;&#xa;Fan Speed - 1 - Fan rotate speed in seconds"/>
    <Expose ExposedAttribute="Color" Name="On Color"/>
    <Expose ExposedAttribute="OnValue" Name="On Value"/>
    <Rectangle Fill="#DDDDDD" Height="100.0" Left="10.0" Opacity="1.0"
        RadiusX="0.0" RadiusY="0.0" Stroke="#404040"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="10.0" Width="190.0"/>
    <Ellipse Fill="#EFEFEF" Height="80.0" Left="20.0" Opacity="1.0"
        Stroke="#404040" StrokeDashArray="0.0" StrokeWidth="1.0"
        Top="20.0" Width="80.0"/>
    <Ellipse Fill="#CCCCCC" Height="72.3809575683136"
        Left="23.80945178873" Opacity="1.0" Stroke="#404040"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="23.809520445713" Width="72.3809575683135"/>
    <Path Fill="#FFFFFF" Name="F1"
        PathData="M64.38092400000005,60.24248799999998 C68.952379999999948,59.480584000000022 73.904755000000023,61.766298000000006 80.38092400000005,67.480584000000022 86.47616400000004,71.290108000000032 91.809504999999945,62.909153999999944 91.047605999999973,54.52819999999997 89.523800000000051,46.147242000000006 81.142860000000042,44.24248 76.190489999999954,44.623434999999972 67.428545999999983,45.766290000000026 66.666645000000017,54.52819999999997 63.238074999999981,56.813913999999954 M60.571405000000027,57.194868000000042 C60.571405000000027,53.385340000000042 59.047604999999976,46.909148999999957 65.523800000000051,42.718669999999975 71.619035000000054,39.671050000000037 69.714275000000043,30.147242000000006 59.428545999999983,29.004384999999957 50.285693000000038,29.004384999999957 45.469301999999971,33.385719999999992 44.571402000000035,39.671050000000037 42.666642000000024,51.09962900000005 54.476163000000042,53.766294000000016 56.761883000000012,57.194868000000042 M59.809504999999945,62.909153999999944 C59.809504999999945,66.704583999999954 61.333304999999996,73.156770000000051 54.857123,77.332009999999968 48.761882000000014,80.3682 50.666643000000022,89.856967000000054 60.952379999999948,90.99563 70.095199999999977,90.99563 74.911605000000009,86.630297000000041 75.809504999999945,80.3682 77.714275000000043,68.981916999999953 65.904755000000023,66.325154 63.619035000000054,62.909153999999944 M55.619032999999945,59.820774000000029 C51.047602999999981,60.579629999999952 46.095201999999972,58.302296999999953 39.619032999999945,52.609339999999975 33.523791999999958,48.813911999999959 28.190462000000025,57.163630000000012 28.952379999999948,65.513724000000025 30.476162000000045,73.863820000000032 38.857122000000004,75.761723999999958 43.809492999999975,75.381918000000042 52.571403000000032,74.243630000000053 53.333303,65.513724000000025 56.761883000000012,63.236390000000029"
        Stroke="#707070" StrokeDashArray="0.0" StrokeWidth="1.0">
        <Rotate>
            <Animate Animation="Stop" Attribute="Angle"
                CalcMode="Linear" Duration="2" From="0" To="360">
                <Expose ExposedAttribute="Duration" Name="Speed in Seconds"/>
            </Animate>
        </Rotate>
    </Path>
    <Ellipse Fill="#EFEFEF" Height="14.4761915136628"
        Left="52.7618348160501" Opacity="1.0" Stroke="#707070"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="52.7619034730389" Width="14.4761915136627"/>
    <Ellipse Fill="#EFEFEF" Height="80.0" Left="110.0" Opacity="1.0"
        Stroke="#404040" StrokeDashArray="0.0" StrokeWidth="1.0"
        Top="20.0" Width="80.0"/>
    <Ellipse Fill="#CCCCCC" Height="72.3809575683136"
        Left="113.80945178873" Opacity="1.0" Stroke="#404040"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="23.809520445713" Width="72.3809575683135"/>
    <Path Fill="#FFFFFF" Name="F2"
        PathData="M154.38095999999996,60.242488999999978 C158.95239000000004,59.480584000000022 163.90476999999999,61.766299000000004 170.38095999999996,67.480584000000022 176.47619000000009,71.290109000000029 181.80953,62.909153999999944 181.04763000000003,54.52820399999996 179.52381999999989,46.147242000000006 171.1428699999999,44.24248 166.19049999999993,44.623434999999972 157.42857000000004,45.766290000000026 156.66666999999995,54.52820399999996 153.23810000000003,56.813913999999954 M150.57142,57.19486900000004 C150.57142,53.385344000000032 149.04760999999996,46.909148999999957 155.52382,42.718669999999975 161.61906999999997,39.671050000000037 159.71429,30.147242000000006 149.42855999999995,29.004384999999957 140.28571,29.004384999999957 135.46929999999998,33.385721999999987 134.57140500000003,39.671050000000037 132.66666999999995,51.099630000000047 144.47618,53.766294000000016 146.76189999999997,57.19486900000004 M149.80951000000005,62.909153999999944 C149.80951000000005,66.704583999999954 151.3333,73.156774000000041 144.85713999999996,77.332013999999958 138.76189999999997,80.3682 140.66666999999995,89.856968000000052 150.95239000000004,90.99563 160.09519999999998,90.99563 164.91162000000008,86.630300000000034 165.80953,80.3682 167.71428999999989,68.981917999999951 155.90476999999999,66.325154 153.61906999999997,62.909153999999944 M145.61906,59.820774000000029 C141.04760999999996,60.579629999999952 136.09519999999998,58.302297999999951 129.619055,52.609339999999975 123.52380500000004,48.813911999999959 118.19048999999995,57.163630000000012 118.95239000000004,65.513724000000025 120.47617500000001,73.863820000000032 128.85713499999997,75.761723999999958 133.80950499999995,75.381918000000042 142.57141000000001,74.243630000000053 143.3333,65.513724000000025 146.76189999999997,63.236390000000029"
        Stroke="#707070" StrokeDashArray="0.0" StrokeWidth="1.0">
        <Rotate>
            <Animate Animation="Stop" Attribute="Angle"
                CalcMode="Linear" Duration="2" From="0" To="360">
                <Expose ExposedAttribute="Duration" Name="Speed in Seconds"/>
            </Animate>
        </Rotate>
    </Path>
    <Ellipse Fill="#EFEFEF" Height="14.4761915136628"
        Left="142.76183481605" Opacity="1.0" Stroke="#707070"
        StrokeDashArray="0.0" StrokeWidth="1.0" Top="52.7619034730389" Width="14.4761915136627"/>
    <Bind Id="" Name="Ct#Cmd">
        <Expose ExposedAttribute="Name" Name="Cooling Tower Command Bind"/>
        <Script OnDocumentLoad="onLoad" OnSignalChange="onChange"><![CDATA[var comp;
var onValue;
var onColor;
var offColor = "#FFFFFF";

function onLoad(evt)
{
comp = evt.getCurrentTarget().getParentNode();
onValue=comp.getAttribute("OnValue").split(',');
onColor = comp.getAttribute("Color");
//comp = comp.getChildByName("Fans");
}

function onChange(evt)
{
	val = evt.getValue();
	if(getBool(val)){
		moneySpider(comp, "Animate", "Animation", "Start", true);
		moneySpider(comp, "Path", "Fill", onColor, "skip");
		moneySpider(comp, "Path", "Fill", onColor, "skip");
	}
	else{
		moneySpider(comp, "Animate", "Animation", "Stop", true);
		moneySpider(comp, "Path", "Fill", offColor, "skip");
		moneySpider(comp, "Path", "Fill", offColor, "skip");
	}
}

function moneySpider(tree, elem, att, value, e){
//alert(e);
var bindList = tree.getElementsByTagName(elem);
	for(var i=0; i < bindList.length;i++){
		if (bindList.item(i).getAttribute("Id")!=e){
			bindList.item(i).setAttribute(att, value);
			//alert();
		}
	}
}

function getBool(val){
	for (var i=0;i<onValue.length;i++){
		if (val == true || val == false){
		val = val.toString();
		}
		else{
			if (isNumber(val)){
				val = Math.round(parseFloat(val));
				val = val.toString();
			}
		}
		if(String(val).toLowerCase() == String(onValue[i]).toLowerCase())
		{
			return true;
		}
	}
	return false;
}

function isNumber (o) {
  return ! isNaN (o-0) && o != null;
}
]]></Script>
    </Bind>
</Component>
